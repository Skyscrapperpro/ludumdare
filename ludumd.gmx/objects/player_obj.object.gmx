<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>editor_player</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Animations control
guni = 0;
handitem=0; //0=spatula,1=gun
spatulaburger=0; //0=no,1=uncooked,2=cooked,3=burn
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move variables
xsonic = 0;
ysonic = 0;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create camera data
zangle = 0;
angle = 0;
z = -10;
global.mouse_active = true;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Set camera
xf = x + cos(degtorad(angle));
yf = y - sin(degtorad(angle));
zf = z - sin(degtorad(zangle));

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Animations
if (guni &gt; 0)
{
    if ((guni + 1) &gt; (sprite_get_number(gunshot)-1))
        guni = 0;
    else guni++;
}
else if (LEFTCLICK) guni++;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Check mouse active
if (MIDDLECLICK)
{ global.mouse_active = !global.mouse_active; }

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Get rotation
mspeed = GETXCAMSPD;
if ((angle + mspeed) &gt; 360) { angle = angle + mspeed - 360; }
else angle += mspeed;

mvspeed = GETYCAMSPD;
if (!handitem)
{
    if ((zangle + mvspeed) &lt; -90) { zangle = -90; }
    else if ((zangle + mvspeed) &gt; 90) { zangle = 90; }
    else zangle += mvspeed;
} else zangle = 0;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Get position
//Get input angle
var move_angle = angle + point_direction(0, 0, LEFT-RIGHT, BACKWARDS-FORWARD);
if (move_angle &gt; 360) then move_angle -= 360;
else if (move_angle &lt; 0) then move_angle += 360;

var xsonic_targ, ysonic_targ;
if (RIGHT||LEFT||FORWARD||BACKWARDS)
{
    xsonic_targ = lengthdir_x(CHARSPD, move_angle);
    ysonic_targ = lengthdir_y(CHARSPD, move_angle);
}
else
{
    xsonic_targ = 0;
    ysonic_targ = 0;
}
//Move
//x
if (xsonic &lt; xsonic_targ)
{
    if ((xsonic + CHARACC) &gt; xsonic_targ) { xsonic = xsonic_targ; }
    else xsonic += CHARACC;
}
else if (xsonic &gt; xsonic_targ)
{
    if ((xsonic - CHARACC) &lt; xsonic_targ) { xsonic = xsonic_targ; }
    else xsonic -= CHARACC;
}
//y
if (ysonic &lt; ysonic_targ)
{
    if ((ysonic + CHARACC) &gt; ysonic_targ) { ysonic = ysonic_targ; }
    else ysonic += CHARACC;
}
else if (ysonic &gt; ysonic_targ)
{
    if ((ysonic - CHARACC) &lt; ysonic_targ) { ysonic = ysonic_targ; }
    else ysonic -= CHARACC;
}

/*if (RIGHT||LEFT||FORWARD||BACKWARDS)
{
    xsonic = lengthdir_x(CHARSPD, move_angle);
    ysonic = lengthdir_y(CHARSPD, move_angle);
}
else
{
    xsonic = 0;
    ysonic = 0;
}*/

//Collisions
if (xsonic != 0)
{
    if !place_free(x+xsonic,y)
    { //Estos dos ifs testean la posición x y la x,y por separado, para que si te chocas te deslices por la pared
        if xsonic&gt;0 then move_contact_solid(0,xsonic)
        if xsonic&lt;0 then move_contact_solid(180,-xsonic)
        xsonic=0
    }
}
if (ysonic != 0)
{
    if !place_free(x+xsonic,y+ysonic)
    { //A veces este sistema hace que la colisión en diagonal no funcione y entres en el bloque, pero no es notable porque salir requiere la misma velocidad y nunca entras demasiados píxeles, esto aplicado al dash sí es notable
        if ysonic&gt;0 then move_contact_solid(270,ysonic)
        if ysonic&lt;0 then move_contact_solid(90,-ysonic)
        ysonic=0
    }
}

///Move
x += xsonic;
y += ysonic;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Set camera
image_angle = angle;
xf = x - sin(degtorad(angle));
yf = y - cos(degtorad(angle));
zf = z - sin(degtorad(zangle));

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reset mouse position
if (global.mouse_active) { display_mouse_set(display_get_width()/2, display_get_height()/2); }

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///set angle to 0,360
while (angle&lt;0)
{
    angle+=360;
}
while (angle&gt;=360)
{
    angle-=360;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Set depth
if (ISPERSPECTIVE) depth = 100;
else depth = -1

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw sprite

var unif = shader_get_uniform(pix, "pixel");
shader_set(pix);
shader_set_uniform_f(unif, surface_get_width(application_surface), surface_get_height(application_surface), PIXELEFFECT, PIXELEFFECT);
draw_surface(application_surface, -2, -2);
shader_reset();

if (handitem=1)
{
draw_sprite_ext(gunshot, guni, view_wport/2, view_hport, PIXELEFFECT, PIXELEFFECT, 0, -1, 1);
}
if (handitem=0)
{
draw_sprite_ext(spatula, 0, view_wport*0.8, view_hport - (PIXELEFFECT * 5), PIXELEFFECT, PIXELEFFECT, 0, -1, 1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw camera
if (ISPERSPECTIVE)
    d3d_set_projection(x, y, z, xf, yf, zf, 0, 0, -1);
else
{
    view_angle = 180-angle;
    draw_self();
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
